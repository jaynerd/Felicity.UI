webpackJsonp([1],{"4bSf":function(t,e){},"6QPR":function(t,e){},"7zck":function(t,e){},IDvz:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),s=i("mtWM"),o=i.n(s),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-max",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=i("VU/8")(null,a,!1,null,null,null).exports,c=i("/ocq"),u=i("3EgV"),l=i.n(u),p=i("rc1w"),f=i.n(p),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view-max flex-column content-center",attrs:{id:"invite"}},[i("div",{staticClass:"flex-column self-center",attrs:{id:"invite-box"}},[i("h2",{staticClass:"flex-1 self-center"},[t._v("Enter Team Invitation Code")]),t._v(" "),i("div",{staticClass:"flex-column flex-3 self-center",attrs:{id:"input-box"}},[i("i",{staticClass:"self-center material-icons"},[t._v("account_circle")]),t._v(" "),i("div",{staticClass:"flex-column",attrs:{id:"input-text-box"}},[i("div",{staticClass:"flex-space self-center",attrs:{id:"input-text"}},[i("input",{staticClass:"flex-1 self-center",attrs:{type:"text",placeholder:"Organisation"},on:{input:function(e){t.setOrgCode(e.target.value)}}})]),t._v(" "),i("div",{staticClass:"flex-space self-center",attrs:{id:"input-text"}},[i("input",{staticClass:"flex-1 self-center",attrs:{type:"text",placeholder:"Personal Code"},on:{input:function(e){t.setIndivCode(e.target.value)}}})])]),t._v(" "),i("div",{staticClass:"flex-space self-center",attrs:{id:"button-box"}},[i("button",{attrs:{id:"submit",type:"success"},on:{click:function(e){t.submitCode()}}},[t._v("\n                    Submit\n                ")])])])])])},staticRenderFns:[]};var m=i("VU/8")({name:"Invitation",methods:{setOrgCode:function(t){this.orgCode=t},setIndivCode:function(t){this.indivCode=t},submitCode:function(){var t=this.orgCode.concat(this.indivCode);this.$bus.$emit("authenticated",t)}},data:function(){return{orgCode:"",indivCode:""}}},d,!1,function(t){i("t89u")},"data-v-1656863e",null).exports,h=i("Zrlr"),v=i.n(h),g=i("wxAW"),C=i.n(g),y=i("Q+y4"),b=i.n(y),x=function(){function t(){v()(this,t)}return C()(t,[{key:"startSubmissionSequence",value:function(){this.initTime=Date.now(),this.dueTime=this.initTime+6e4,_()}},{key:"postpone",value:function(t){var e=Date.now()+6e4*t;this.dueTime>=e?setTimeout(_,6e4*t):setTimeout(this.startSubmissionSequence,6e4)}}]),t}(),_=function(){b.a.create("Happiness Submission",{onClick:function(){window.open(window.origin+"/#/notification","NotificationPopUp","height=300,width=400,modal=yes"),this.close()}})},w={name:"KeepOpen",methods:{recieveMessage:function(t){"NotificationPopUp"==t.source.name&&("Postpone"==t.data.type?this.notifier.postpone(t.data.time):"Submit"==t.data.type&&window.open(window.origin+"/#/submission"))}},data:function(){return{notifier:new x}},mounted:function(){var t=this;setTimeout(function(){t.notifier.startSubmissionSequence()},6e3),window.addEventListener("message",this.recieveMessage,!1)}},k={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-max flex-column content-center",attrs:{id:"keep-open"}},[e("div",{staticClass:"flex-column self-center",attrs:{id:"keepon-box"}},[e("img",{attrs:{src:i("UDWL")}}),this._v(" "),e("span",[this._v("Keep open to recieve notification")])])])}]};var j={name:"Main",components:{"app-keepopen":i("VU/8")(w,k,!1,function(t){i("IDvz")},"data-v-4b300a28",null).exports,"app-invitation":m},data:function(){return{isAuthenticated:!1}},mounted:function(){var t=this;this.$bus.$on("authenticated",function(){t.isAuthenticated=!0})}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{dark:""}},[e("div",{staticClass:"view-max flex-column self-center",attrs:{id:"main"}},[this.isAuthenticated?e("app-keepopen"):e("app-invitation")],1)])},staticRenderFns:[]},H=i("VU/8")(j,R,!1,null,null,null).exports,E={name:"EmojiFace",props:{emojiControl:Object},data:function(){return{configStage:{},configFace:{},configLEye:{},configREye:{},configLips:{}}},mounted:function(){var t=this.$props.emojiControl;t.$on("faceUpdate",this.drawFace),t.$on("happyChange",this.handleHappyChange),this.drawFace()},methods:{handleHappyChange:function(){var t=this.$props.emojiControl,e=this.$data,i=t.currentHappy-t.oldHappy;if(i>0)for(var n=function(i){setTimeout(function(){return S(e,t,i)},50)},s=t.oldHappy+1;s<=t.currentHappy;s++)n(s);else if(i<0){var o=function(i){setTimeout(function(){return S(e,t,i)},50)};for(s=t.oldHappy-1;s>=t.currentHappy;s--)o(s)}else S(e,t,t.currentHappy)},drawFace:function(){var t=this.$props.emojiControl,e=this.$data;e.configStage=t.stageConfig,e.configFace=t.faceConfig,this.handleHappyChange()}}},S=function(t,e,i){t.configLEye=e.leftEyeConfig(i),t.configREye=e.rightEyeConfig(i),t.configLips=e.lipConfig(i)},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"self-center",attrs:{id:"emoji"}},[i("v-stage",{attrs:{config:t.configStage}},[i("v-layer",[i("v-circle",{attrs:{config:t.configFace}}),t._v(" "),i("v-ellipse",{attrs:{config:t.configLEye}}),t._v(" "),i("v-ellipse",{attrs:{config:t.configREye}}),t._v(" "),i("v-line",{attrs:{config:t.configLips}})],1)],1)],1)},staticRenderFns:[]},U=i("VU/8")(E,$,!1,null,null,null).exports,F={name:"TickedSlider",props:{emojiControl:Object},data:function(){return{happiness:this.emojiControl.currentHappy,phases:["Very Unhappy","Unhappy","Neutral","Happy","Very Happy"]}},mounted:function(){},methods:{handleChange:function(t){var e=this.$props.emojiControl;e.setHappiness(t),e.$emit("happyChange")}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-column self-center",attrs:{id:"slider-box"}},[i("v-slider",{attrs:{id:"slider","tick-labels":t.phases,step:"25",ticks:"always","tick-size":"2","always-dirty":""},on:{input:t.handleChange},model:{value:t.happiness,callback:function(e){t.happiness=e},expression:"happiness"}})],1)},staticRenderFns:[]};var O=i("VU/8")(F,L,!1,function(t){i("4bSf")},"data-v-50b4d9ff",null).exports,P=i("Zx67"),T=i.n(P),V=i("zwoO"),q=i.n(V),D=i("Pf15"),I=i.n(D),M=function(t){function e(){v()(this,e);var t=q()(this,(e.__proto__||T()(e)).call(this));return t.emojiRadius=window.innerHeight/7,t.stageOffset=t.emojiRadius/80,t.oldHappiness=50,t.currentHappiness=t.oldHappiness,t}return I()(e,t),C()(e,[{key:"setHappiness",value:function(t){this.oldHappiness=this.currentHappiness,this.currentHappiness=t}},{key:"leftEyeConfig",value:function(t){return W(2*this.emojiRadius/3,this.emojiRadius,t)}},{key:"rightEyeConfig",value:function(t){return W(4*this.emojiRadius/3,this.emojiRadius,t)}},{key:"lipConfig",value:function(t){var e=this.emojiRadius/6,i=2*this.emojiRadius/4,n=N(t,0,100,-e,e),s=-n;return{offsetX:-this.emojiRadius,offsetY:-3*this.emojiRadius/2,tension:.8,stroke:"black",strokeWidth:this.stageOffset,points:[-i,s,0,n,i,s]}}},{key:"oldHappy",get:function(){return this.oldHappiness}},{key:"currentHappy",get:function(){return this.currentHappiness}},{key:"faceRadius",get:function(){return this.emojiRadius}},{key:"stageConfig",get:function(){var t=2*this.emojiRadius+2*this.stageOffset;return{width:t,height:t}}},{key:"faceConfig",get:function(){var t=this.stageOffset+this.emojiRadius;return{x:t,y:t,radius:this.emojiRadius,fillLinearGradientStartPoint:{x:this.emojiRadius+this.stageOffset,y:-this.emojiRadius},fillLinearGradientEndPoint:{x:this.emojiRadius+this.stageOffset,y:2*this.emojiRadius+2*this.stageOffset},fillLinearGradientColorStops:[0,"white",.5,"yellow"],stroke:"black",strokeWidth:this.stageOffset}}}]),e}(n.default),W=function(t,e,i){var n=e/6,s=n/6,o=N(i,0,100,-s,s);return{x:t,y:2*e/3,fill:"black",radius:{x:n-o,y:n+o}}},N=function(t,e,i,n,s){return(t-e)*(s-n)/(i-e)+n},Q={name:"EmojiCollector",props:{initQuestion:""},data:function(){return{question:this.initQuestion,emojiControl:new M}},components:{"emoji-face":U,"ticked-slider":O}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-column self-center",attrs:{id:"happy_collector"}},[e("emoji-face",{attrs:{id:"emoji_face",emojiControl:this.emojiControl}}),this._v(" "),e("span",[this._v(this._s(this.question))]),this._v(" "),e("ticked-slider",{attrs:{id:"ticked_slider",emojiControl:this.emojiControl}})],1)},staticRenderFns:[]};var A={name:"Submission",data:function(){return{title:"Happiness Submission",question1:"Please indicate how you feel about your work.",question2:"Please indicate how you think the team feel about the work.",isSubmitted:!1}},mounted:function(){window.addEventListener("message",this.acceptedSubmit,!1)},components:{"emoji-collector":i("VU/8")(Q,z,!1,function(t){i("xZFE")},"data-v-263e524d",null).exports},methods:{happySubmit:function(){this.isSubmitted=!0,setTimeout(function(){window.close()},3e3)}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{dark:""}},[t.isSubmitted?n("div",{staticClass:"view-max flex-column content-center",attrs:{id:"submitted"}},[n("h1",{staticClass:"flex-column self-center"},[t._v("Thank you for submitting.")])]):n("div",{staticClass:"view-max flex-column content-center",attrs:{id:"submissions"}},[n("div",{staticClass:"flex-row self-center",attrs:{id:"title"}},[n("h1",{staticClass:"flex-1 self-center"},[t._v(t._s(t.title))]),t._v(" "),n("img",{attrs:{src:i("UDWL")}})]),t._v(" "),n("div",{staticClass:"flex-column content-center",attrs:{id:"submission"}},[n("emoji-collector",{attrs:{initQuestion:t.question1}}),t._v(" "),n("emoji-collector",{attrs:{initQuestion:t.question2}})],1),t._v(" "),n("div",{staticClass:"flex-space self-center",attrs:{id:"button-box"}},[n("button",{attrs:{id:"submit",type:"success"},on:{click:t.happySubmit}},[t._v("\r\n          Submit\r\n      ")])])])])},staticRenderFns:[]};var K=i("VU/8")(A,J,!1,function(t){i("OJDK")},"data-v-d2b268cc",null).exports,Z={name:"NotifPopUp",methods:{postpone:function(t){window.opener.postMessage({type:"Postpone",time:t},window.origin),window.close()},submit:function(){window.opener.postMessage({type:"Submit"},window.origin),window.close()}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",{attrs:{dark:""}},[i("div",{staticClass:"view-max flex-column content-center",attrs:{id:"notification"}},[i("div",{staticClass:"flex-column self-center",attrs:{id:"notification-box"}},[i("h1",[t._v("It's time to enter your happiness information")]),t._v(" "),i("div",{staticClass:"flex-space self-center",attrs:{id:"button-box"}},[i("button",{attrs:{id:"redirect",type:"success"},on:{click:function(e){t.submit()}}},[t._v("\n                    Click Here\n                ")])]),t._v(" "),i("div",{staticClass:"flex-row self-center",attrs:{id:"postpone-box"}},[i("span",[t._v("\n                    I'm busy... postpone for \n                    "),i("button",{staticClass:"postpone-button",attrs:{id:"post5"},on:{click:function(e){t.postpone(.1)}}},[t._v("5")]),t._v(",\n                    "),i("button",{staticClass:"postpone-button",attrs:{id:"post10"},on:{click:function(e){t.postpone(.2)}}},[t._v("10")]),t._v(",\n                    "),i("button",{staticClass:"postpone-button",attrs:{id:"post15"},on:{click:function(e){t.postpone(.3)}}},[t._v("15")]),t._v("\n                    minutes.\n                ")])])])])])},staticRenderFns:[]};var X=i("VU/8")(Z,G,!1,function(t){i("6QPR")},"data-v-49056aec",null).exports;i("7zck");n.default.use(c.a),n.default.use(l.a),n.default.use(f.a);var Y=new c.a({routes:[{path:"/",name:"Main",component:H},{path:"/submission",name:"Submission",component:K},{path:"/notification",name:"NotifPopUp",component:X}]});i("gJLk"),n.default.config.productionTip=!1,n.default.prototype.$bus=new n.default,n.default.prototype.$axios=o.a.create({baseURL:"http://localhost:50616/"}),new n.default({el:"#app",router:Y,components:{App:r},template:"<App/>"})},OJDK:function(t,e){},UDWL:function(t,e,i){t.exports=i.p+"static/img/FelicityLogo.d7b876e.png"},gJLk:function(t,e){},t89u:function(t,e){},xZFE:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.15d40e4ab241dbc9e64f.js.map